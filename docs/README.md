# Структура базы данных

## Связи между таблицами

### Организации и Отделы
- **organizations(id)** и **departments(organization_id)**
  - Связь: Один ко многим
  - Описание: В одной организации может находиться несколько отделов, один отдел находится в одной организации.

### Отделы и Вложенные Отделы
- **departments(id)** и **departments(parent_id)**
  - Связь: Один ко многим
  - Описание: Отделы могут содержать вложенные отделы.

### Должности и Отделы
- **positions(department_id)** и **departments(id)**
  - Связь: Многие к одному
  - Описание: В одном отделе может существовать несколько должностей, одна должность существует в одном отделе.

### Типы операций и Кадровые операции
- **type_operation(id)** и **personnel_operations(type_operation_id)**
  - Связь: Один ко многим
  - Описание: Существует несколько типов операций для кадровых операций, но каждая конкретная кадровая операция может иметь только один тип операции.

### Отделы и Кадровые операции
- **departments(id)** и **personnel_operations(department_id)**
  - Связь: Один ко многим
  - Описание: Один отдел может иметь множество кадровых операций, а одна кадровая операция имеет один отдел.

### Должности и Кадровые операции
- **positions(id)** и **personnel_operations(position_id)**
  - Связь: Один ко многим
  - Описание: Одна должность может быть связана с несколькими кадровыми операциями, а одна кадровая операция связана с одной должностью.

### Сотрудники и Кадровые операции
- **employees(id)** и **personnel_operations(employee_id)**
  - Связь: Один ко многим
  - Описание: С одним сотрудником может быть выполнено несколько кадровых операций, в то время как каждая кадровая операция относится только к одному сотруднику.

### Регионы и Сотрудники
- **regions(id)** и **employees(region_id)**
  - Связь: Один ко многим
  - Описание: С одного региона может быть несколько сотрудников, а один сотрудник с одного региона.

### Регионы и Города
- **regions(id)** и **citys(region_id)**
  - Связь: Один ко многим
  - Описание: В одном регионе может находиться несколько городов, а один город находится в одном регионе.

### Города и Сотрудники
- **citys(id)** и **employees(city_id)**
  - Связь: Один ко многим
  - Описание: В одном городе может жить несколько сотрудников, а один сотрудник живет в одном городе.

### Сотрудники и Сканирование паспортов
- **employees(id)** и **passport_scan(employee_id)**
  - Связь: Один ко многим
  - Описание: Один сотрудник может иметь несколько файлов, один файл может принадлежать нескольким сотрудникам.

### Операции с объектами и История изменений
- **object_operations(id)** и **history_change(id_object_operations)**
  - Связь: Один ко многим
  - Описание: Каждая запись в таблице операций с объектами может иметь множество связанных изменений. Каждое изменение в истории относится только к одной конкретной операции.

### Пользователь и История изменений
- **user** и **history_change**
  - Связь: Один ко многим
  - Описание: Каждая запись в таблице history_change имеет автора (пользователя), указавшего изменения. Один пользователь может быть автором нескольких записей в истории изменений.

### Пользователь и роль
- **user** и **role**
  - Связь: Многие к одному
  - Описание: Каждый пользователь принадлежит к одной роли, но одна роль может быть назначена нескольким пользователям.

## Типы операций
1. Принятие на работу
2. Увольнение
3. Изменение зарплаты
4. Изменение отдела

## Объекты операций
1. Организация
2. Отдел
3. Должность
4. Сотрудник
5. Кадровая операция

## Роли
1. Менеджер
2. Администратор